# Google Cloud Service Account 생성 및 JSON 키 발급 가이드

Financial Data Pipeline이 구글 스프레드시트에 접근하려면 서비스 계정(Service Account)의 키 파일(JSON)이 필요합니다. 아래 절차를 따라 키를 발급받으세요.

## 1단계: Google Cloud 프로젝트 생성
1. [Google Cloud Console](https://console.cloud.google.com/)에 접속합니다.
2. 상단 네비게이션 바에서 프로젝트 선택 드롭다운을 클릭하고 **"새 프로젝트"**를 누릅니다.
3. 프로젝트 이름을 입력하고(예: `financial-data-pipeline`) **"만들기"**를 클릭합니다.

## 2단계: API 활성화
1. 좌측 메뉴에서 **"API 및 서비스" > "라이브러리"**로 이동합니다.
2. 검색창에 `Google Sheets API`를 검색하고 클릭한 뒤 **"사용"** 버튼을 누릅니다.
3. 다시 검색창에 `Google Drive API`를 검색하고 클릭한 뒤 **"사용"** 버튼을 누릅니다. (스프레드시트 접근 권한 관리를 위해 필요할 수 있습니다.)

## 3단계: 서비스 계정 생성
1. 좌측 메뉴에서 **"IAM 및 관리" > "서비스 계정"**으로 이동합니다.
2. 상단의 **"+ 서비스 계정 만들기"**를 클릭합니다.
3. **서비스 계정 이름**을 입력합니다 (예: `sheets-updater`).
4. **"만들기 및 계속"**을 클릭합니다.
5. **액세스 권한 부여(선택사항)** 단계에서 **"역할 선택"**을 클릭하고 **"편집자"** 또는 **"Project > 편집자"**를 선택합니다. (권한은 상황에 따라 최소화할 수 있지만, 편의상 편집자로 설정합니다.)
6. **"완료"**를 클릭합니다.

## 4단계: JSON 키 발급
1. 생성된 서비스 계정 목록에서 방금 만든 이메일 주소(예: `sheets-updater@...`)를 클릭합니다.
2. 상단 탭 중 **"키"** 탭을 클릭합니다.
3. **"키 추가" > "새 키 만들기"**를 클릭합니다.
4. 키 유형으로 **"JSON"**을 선택하고 **"만들기"**를 누릅니다.
5. **JSON 파일이 자동으로 다운로드됩니다.** 이 파일은 보안에 매우 중요하므로 안전한 곳에 보관하세요. (절대 외부에 노출하면 안 됩니다.)

## 5단계: 스프레드시트 공유 설정 (중요!)
1. 다운로드 받은 JSON 파일을 메모장으로 열어 `client_email` 값을 복사합니다. (예: `sheets-updater@project-id.iam.gserviceaccount.com`)
2. 데이터를 저장할 **구글 스프레드시트**를 엽니다.
3. 우측 상단의 **"공유"** 버튼을 클릭합니다.
4. 복사한 이메일 주소를 붙여넣고 **"편집자"** 권한으로 **"전송"**합니다.
   * 이렇게 해야 스크립트가 해당 시트를 읽고 쓸 수 있습니다.
